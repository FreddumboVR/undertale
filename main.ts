statusbars.onZero(StatusBarKind.Health, function (status) {
    game.gameOver(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    statusbar.value += -4
    sprites.destroy(otherSprite)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    statusbar.value += -20
    Bad_boi.setPosition(79, 27)
})
let BadGuyProjectile: Sprite = null
let statusbar: StatusBarSprite = null
let Bad_boi: Sprite = null
game.splash("Flying duck 2:", "Yeha, a boss fight.")
scene.setBackgroundColor(6)
carnival.startCountdownGame(20, carnival.WinTypes.Win)
let Dave = sprites.create(img`
    . . . b 5 b . . . . . . . . . . 
    . . . . b 5 b . . . . . . . . . 
    . . . . . c b . . . . . . . . . 
    . . . . b b b b b b . . . . . . 
    . . . b 5 5 5 5 5 b b . . . . . 
    . . f d 5 5 f 1 d 5 b b . . . . 
    . . c 4 d 5 f f 1 5 5 b . . . . 
    . . 4 4 d d b f d 5 5 b . . . . 
    b 4 4 4 4 4 5 5 5 d b b d d d b 
    . b 4 4 4 4 4 5 5 b 5 5 5 d b b 
    . . b 5 5 5 5 5 d 5 5 5 5 c d b 
    . b 5 5 5 5 5 5 b 5 5 d c d d c 
    . b 5 5 5 5 5 5 5 b c c d d b c 
    . b d 5 5 5 5 5 d d d d d d c . 
    . . b b 5 5 5 d d d d d b c . . 
    . . . b b c c c c c c c c . . . 
    `, SpriteKind.Player)
controller.moveSprite(Dave)
Dave.setPosition(74, 82)
Dave.setStayInScreen(true)
Bad_boi = sprites.create(img`
    . . . . . . . . . . . . . . . 
    . . . 5 5 5 5 5 5 5 5 5 . . . 
    . . 5 f 5 5 5 5 5 5 5 f 5 . . 
    . 5 5 5 f 5 5 5 5 5 f 5 5 5 . 
    5 5 5 5 2 f 5 5 5 f 2 5 5 5 5 
    5 5 5 5 2 5 f 5 f 5 2 5 5 5 5 
    5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
    5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
    5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
    5 5 f f f f f f f f f f f f 5 
    5 5 5 f 3 3 3 3 3 3 3 3 f 5 5 
    . 5 5 f f 3 3 3 3 3 3 f 5 5 . 
    . . 5 5 5 f f f f f f 5 5 . . 
    . . . 5 5 5 5 5 5 5 5 5 . . . 
    . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
Bad_boi.setPosition(79, 27)
Bad_boi.setVelocity(100, 50)
Bad_boi.setBounceOnWall(true)
statusbar = statusbars.create(120, 4, StatusBarKind.Health)
statusbar.value = 150
statusbar.setPosition(77, 115)
statusbar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
statusbar.setLabel("HP", 15)
let Immune = false
game.setGameOverMessage(false, "You failed...")
game.onUpdateInterval(700, function () {
    BadGuyProjectile = sprites.create(img`
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        .....231132
        `, SpriteKind.Projectile)
    BadGuyProjectile.setPosition(randint(0, 154), 63)
    BadGuyProjectile.lifespan = 700
})
